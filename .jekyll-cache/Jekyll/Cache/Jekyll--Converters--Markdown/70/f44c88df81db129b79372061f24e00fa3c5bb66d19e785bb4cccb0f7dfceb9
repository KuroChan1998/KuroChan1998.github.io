I"ØQ<h1 id="springmvcçš„å·¥ä½œæµç¨‹">SpringMVCçš„å·¥ä½œæµç¨‹?</h1>

<p><img src="https://github.com/KuroChan1998/KuroChan1998.github.io/blob/master/img/mdimg/733213-20180401021502228-788157259.jpg?raw=true" alt="img" /></p>

<h2 id="æºç è§£æ">æºç è§£æ</h2>

<p>DispatcherServletç±»æ ¸å¿ƒæ–¹æ³•doDispatch</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">doDispatch</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="c1">// Determine handler for the current request.</span>
    <span class="n">mappedHandler</span> <span class="o">=</span> <span class="n">getHandler</span><span class="o">(</span><span class="n">processedRequest</span><span class="o">);</span>
	<span class="o">...</span>
    <span class="c1">// Determine handler adapter for the current request.</span>
    <span class="nc">HandlerAdapter</span> <span class="n">ha</span> <span class="o">=</span> <span class="n">getHandlerAdapter</span><span class="o">(</span><span class="n">mappedHandler</span><span class="o">.</span><span class="na">getHandler</span><span class="o">());</span>
	<span class="o">...</span>
    <span class="c1">// Actually invoke the handler.</span>
    <span class="n">mv</span> <span class="o">=</span> <span class="n">ha</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">processedRequest</span><span class="o">,</span> <span class="n">response</span><span class="o">,</span> <span class="n">mappedHandler</span><span class="o">.</span><span class="na">getHandler</span><span class="o">());</span>
    <span class="o">...</span>
<span class="o">}</span>
</code></pre></div></div>

<p>getHandler(processedRequest);è·å–å½“å‰requestçš„å¤„ç†å™¨æ˜ å°„å™¨</p>

<p><img src="https://github.com/KuroChan1998/KuroChan1998.github.io/blob/master/img/mdimg/Snipaste_2019-09-19_12-54-19.jpg?raw=true" alt="Snipaste_2019-09-19_12-54-19.jpg" /></p>

<p>åœ¨handlerMappingsè¿™ä¸ªåˆ—è¡¨çš„æ‰€æœ‰handlersä¸­æœ‰å¤šä¸ªHandlerMappingï¼Œèµ·ä¸­ä¸¤ä¸ªå…³é”®çš„æ˜¯ç”¨æ¥å­˜æ”¾ä»¥beanNameå½¢å¼å’Œ@Controllerå½¢å¼æ³¨å†Œçš„Controllerï¼Œ<strong>å‚è§ä¸‹æ–‡Controllerçš„2å¤§ç±»å‹</strong>ï¼ï¼ï¼ï¼</p>

<p>åœ¨gethandlerè¿‡ç¨‹ä¸­ï¼ŒrequestMappingä¸­çš„è¯·æ±‚è·¯å¾„å‚æ•°è¢«å­˜åˆ°äº†<strong>lookupPath</strong>ä¸­</p>

<p><img src="https://github.com/KuroChan1998/KuroChan1998.github.io/blob/master/img/mdimg/Snipaste_2019-09-19_15-01-57.jpg?raw=true" alt="Snipaste_2019-09-19_15-01-57" /></p>

<p>gethandleræ–¹æ³•è¿”å›çš„HandlerExecutionChainä¸­æœ‰æˆ‘ä»¬åŠ äº†æ³¨è§£çš„çš„ViewController!</p>

<p><img src="https://github.com/KuroChan1998/KuroChan1998.github.io/blob/master/img/mdimg/Snipaste_2019-09-19_13-03-20.jpg?raw=true" alt="Snipaste_2019-09-19_13-03-20" /></p>

<p>getHandlerAdapter()è·å–å½“å‰requestä¸‹å¾—åˆ°çš„handlersè¿”å›å¤„ç†å™¨é€‚é…å™¨</p>

<p><img src="https://github.com/KuroChan1998/KuroChan1998.github.io/blob/master/img/mdimg/Snipaste_2019-09-19_13-12-00.jpg?raw=true" alt="Snipaste_2019-09-19_13-12-00" /></p>

<ul>
  <li>
    <p>handlerå’Œadaptoréƒ½æ˜¯åœ¨DispatcherServlet.propertiesä¸­è·å–ï¼Œspringbootå°±æ˜¯åŸºäºè¿™é‡Œæ‹“å±•handlerMappings</p>

    <p><img src="https://github.com/KuroChan1998/KuroChan1998.github.io/blob/master/img/mdimg/Snipaste_2019-09-19_13-15-18.jpg?raw=true" alt="Snipaste_2019-09-19_13-15-18" /></p>
  </li>
  <li>
    <p>æ³¨æ„ï¼ï¼šåœ¨<strong>support()</strong>æ–¹æ³•ä¸­ä¼šåˆ¤æ–­handlerçš„ç‰¹æ€§ç”¨æ¥è¿”å›åˆé€‚çš„adaptorï¼Œè¿™é‡Œsupportæ–¹æ³•æœ‰å¤šç§åˆ¤æ–­æ–¹å¼ï¼Œå¦‚å¯¹@Controlleræ³¨è§£çš„Controllerä¸­çš„æ–¹æ³•å¯¹ç”¨RequestHandlerMappingå¯¹åº”çš„supportå®ç°æ¥æ£€æŸ¥ï¼Œå¯¹beanNameå½¢å¼çš„ä¹Ÿæœ‰å…¶ä»–ç±»å®ç°çš„supportæ–¹æ³•æ£€æŸ¥</p>

    <p><img src="https://github.com/KuroChan1998/KuroChan1998.github.io/blob/master/img/mdimg/Snipaste_2019-09-19_15-22-53.jpg?raw=true" alt="Snipaste_2019-09-19_15-22-53" /></p>

    <p>å› æ­¤æˆ‘ä»¬çš„Controllerï¼ˆhandlerï¼‰çš„æ³¨å†Œä¹Ÿæœ‰å¤šç§æ–¹æ³•ï¼<strong>ä¸åªæ˜¯@Controller</strong>ï¼</p>

    <p>åœ¨springmvcä¸­Controlleræœ‰ï¼š</p>

    <ul>
      <li>
        <p>2å¤§ç±»å‹</p>

        <ol>
          <li>
            <p>åœ¨springä¸­æ³¨å†ŒbeanName</p>

            <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span><span class="o">(</span><span class="s">"/BeanNameController"</span><span class="o">)</span>
</code></pre></div>            </div>

            <p>æ³¨æ„ï¼šåœ¨getHandleræ–¹æ³•ä¸­çš„handlerMappingsä¸­æœ‰ä¸¤ä¸ªHandlerMappingï¼Œè¿™é‡ŒBeanNameUrlHandlerMappingä¸­å­˜æ”¾äº†æˆ‘ä»¬é€šè¿‡springç»„ä»¶å½¢å¼æ³¨å†Œçš„Controller!!è¿™é‡Œå­˜å‚¨çš„æ˜¯<strong>mapç»“æ„</strong>ï¼ï¼ï¼</p>

            <p><img src="https://github.com/KuroChan1998/KuroChan1998.github.io/blob/master/img/mdimg/Snipaste_2019-09-19_14-50-10.jpg?raw=true" alt="Snipaste_2019-09-19_14-50-10" /></p>
          </li>
          <li>
            <p>@Controlleræ³¨è§£</p>

            <p>RequestHandlerMappingä¸­å­˜æ”¾äº†@Controlleræ³¨è§£æ³¨å†Œçš„Controller</p>

            <p><img src="https://github.com/KuroChan1998/KuroChan1998.github.io/blob/master/img/mdimg/Snipaste_2019-09-19_14-47-11.jpg?raw=true" alt="Snipaste_2019-09-19_14-47-11" /></p>
          </li>
        </ol>
      </li>
      <li>
        <p>3ç§å®ç°</p>

        <ol>
          <li>
            <p>@Controller</p>
          </li>
          <li>
            <p>implements Controller</p>

            <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span><span class="o">(</span><span class="s">"/BeanNameController"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BeanNameController</span> <span class="kd">implements</span> <span class="nc">Controller</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ModelAndView</span> <span class="nf">handleRequest</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"implements Controller"</span><span class="o">);</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>            </div>
          </li>
          <li>
            <p>implements HttpRequestHandler</p>

            <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span><span class="o">(</span><span class="s">"/HandleController"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HandleController</span> <span class="kd">implements</span> <span class="nc">HttpRequestHandler</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handleRequest</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">ServletException</span><span class="o">,</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"extends HttpRequestHandler "</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>            </div>
          </li>
        </ol>
      </li>
    </ul>
  </li>
</ul>

<p>è°ƒç”¨handle()æ‰§è¡ŒControlleræ–¹æ³•</p>

<ul>
  <li>
    <p>è¿™é‡Œä»¥beanNameç±»å‹Controllerä¸ºä¾‹ï¼Œé€šè¿‡å¼ºè½¬åç›´æ¥è°ƒç”¨æˆ‘ä»¬çš„Controllerä¸­é‡å†™çš„<strong>handleRequest</strong>æ–¹æ³•ï¼ï¼ï¼ï¼è¿™æ ·æ„å‘³ç€æ¯ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼</p>

    <p><img src="https://github.com/KuroChan1998/KuroChan1998.github.io/blob/master/img/mdimg/Snipaste_2019-09-19_15-40-07.jpg?raw=true" alt="Snipaste_2019-09-19_15-40-07" /></p>
  </li>
  <li>
    <p>@Controller</p>

    <p>é€šè¿‡åå°„å¤„ç†Controllerä¸­çš„å‚æ•°å’Œæ–¹æ³•</p>

    <p>åœ¨RequestMappingHandlerAdapterä¸­invokeHandleMethodæ–¹æ³•ä¸­çš„invokeAndHandleæ–¹æ³•</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="kd">private</span> <span class="nc">ModelAndView</span> <span class="nf">invokeHandleMethod</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span>
			<span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">,</span> <span class="nc">HandlerMethod</span> <span class="n">handlerMethod</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
		<span class="o">....</span>
		<span class="n">requestMappingMethod</span><span class="o">.</span><span class="na">invokeAndHandle</span><span class="o">(</span><span class="n">webRequest</span><span class="o">,</span> <span class="n">mavContainer</span><span class="o">);</span>
	<span class="o">}</span>
</code></pre></div>    </div>

    <p>å…¶ä¸­è°ƒç”¨äº†getArgumentResolverã€‚argumentResolverCacheä¸ºå˜é‡ç¼“å­˜æ± </p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="nc">HandlerMethodArgumentResolver</span> <span class="nf">getArgumentResolver</span><span class="o">(</span><span class="nc">MethodParameter</span> <span class="n">parameter</span><span class="o">)</span> <span class="o">{</span>
	<span class="c1">//ç¼“å­˜æ± ä¸­åŒº</span>
    <span class="nc">HandlerMethodArgumentResolver</span> <span class="n">result</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">argumentResolverCache</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">parameter</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">result</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">....</span>
            <span class="c1">//è¿™é‡Œåˆ¤æ–­å…¥å‚æ˜¯ä»€ä¹ˆç±»å‹çš„æ˜¯String?è¿˜æ˜¯è‡ªå®šä¹‰çš„å¯¹è±¡User?è¿˜æ˜¯requestã€responseï¼ˆè¿™ä¸¤è€…åœ¨serlevtçˆ¶ç±»ä¸­æœ‰å› æ­¤ä¸ç”¨é¢å¤–è§£æï¼‰</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">methodArgumentResolver</span><span class="o">.</span><span class="na">supportsParameter</span><span class="o">(</span><span class="n">parameter</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">methodArgumentResolver</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="na">argumentResolverCache</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">parameter</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">...</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <p>ï¼ˆæ³¨æ„java1.8ä¹‹å‰ç”±äºæ— æ³•è·å–å‡½æ•°å˜é‡åç§°ï¼Œæ‰€ä»¥springmvcæ˜¯é€šè¿‡å­—èŠ‚ç è·å¾—å˜é‡åçš„ï¼‰</p>

    <p>InvocableHandlerMethodä¸­çš„getMethodArgumentValuesæ–¹æ³•ä¸­è·å–å…¥å‚userå¯¹è±¡çš„å€¼ï¼Œé€šè¿‡è°ƒç”¨resolveArgumentå­˜åœ¨args[]æ•°ç»„ä¸­</p>

    <p><img src="https://github.com/KuroChan1998/KuroChan1998.github.io/blob/master/img/mdimg/Snipaste_2019-09-19_18-45-40.jpg?raw=true" alt="Snipaste_2019-09-19_18-45-40" /></p>

    <p>è¿™é‡Œè°ƒç”¨invokeåå°„æ‰§è¡Œè·å¾—äº†è¿”å›çš„jsonæ•°æ®â€œresultSuccessâ€ï¼ï¼ï¼</p>

    <p><img src="https://github.com/KuroChan1998/KuroChan1998.github.io/blob/master/img/mdimg/Snipaste_2019-09-19_18-47-46.jpg?raw=true" alt="Snipaste_2019-09-19_18-47-46" /></p>
  </li>
</ul>

<h2 id="ç®€ç•¥ç‰ˆæµç¨‹">ç®€ç•¥ç‰ˆæµç¨‹ï¼š</h2>

<ol>
  <li>ç”¨æˆ·å‘é€è¯·æ±‚è‡³å‰ç«¯æ§åˆ¶å™¨<strong>DispatcherServlet</strong></li>
  <li>DispatcherServletæ”¶åˆ°è¯·æ±‚è°ƒç”¨<strong>HandlerMapping</strong>å¤„ç†å™¨æ˜ å°„å™¨ã€‚</li>
  <li>å¤„ç†å™¨æ˜ å°„å™¨æ ¹æ®è¯·æ±‚urlæ‰¾åˆ°å…·ä½“çš„å¤„ç†å™¨handler(å³æ¶µç›–äº†æˆ‘ä»¬çš„Controllerï¼Œè§ä¸Šå›¾ï¼‰ï¼Œç”Ÿæˆå¤„ç†å™¨å¯¹è±¡åŠå¤„ç†å™¨æ‹¦æˆªå™¨(å¦‚æœæœ‰åˆ™ç”Ÿæˆ)ä¸€å¹¶è¿”å›ç»™DispatcherServletã€‚</li>
  <li>DispatcherServleté€šè¿‡<strong>HandlerAdapter</strong>å¤„ç†å™¨é€‚é…å™¨è°ƒç”¨å¤„ç†å™¨</li>
  <li><strong>HandlerAdapter</strong>æ‰§è¡Œå¤„ç†å™¨(Controller)ã€‚</li>
  <li><strong>Controller</strong>æ‰§è¡Œå®Œæˆè¿”å›ModelAndView â€”â€”â€”â€”â€”â€”â€”â€”â€”-ä¹‹åæºç å¾…åˆ†æï¼Œæˆ‘å¤ªèœäº†â€¦..</li>
  <li>HandlerAdapterå°†controlleræ‰§è¡Œç»“æœModelAndViewè¿”å›ç»™DispatcherServlet</li>
  <li>DispatcherServletå°†ModelAndViewä¼ ç»™<strong>ViewReslover</strong>è§†å›¾è§£æå™¨</li>
  <li>ViewResloverè§£æåè¿”å›å…·ä½“View</li>
  <li>DispatcherServletå¯¹Viewè¿›è¡Œæ¸²æŸ“è§†å›¾ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†å›¾ä¸­ï¼‰ã€‚</li>
  <li>DispatcherServletå“åº”ç”¨æˆ·</li>
</ol>

<h2 id="é™„springmvcåˆå§‹åŒ–çš„ä¸¤ç§æ–¹å¼">é™„ï¼šspringmvcåˆå§‹åŒ–çš„ä¸¤ç§æ–¹å¼</h2>

<ul>
  <li>
    <p>java</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyWebApplicationInitializer</span> <span class="kd">implements</span> <span class="nc">WebApplicationInitializer</span> <span class="o">{</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onStartup</span><span class="o">(</span><span class="nc">ServletContext</span> <span class="n">servletCxt</span><span class="o">)</span> <span class="o">{</span>
  
        <span class="c1">// Load Spring web application configuration</span>
        <span class="nc">AnnotationConfigWebApplicationContext</span> <span class="n">ac</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AnnotationConfigWebApplicationContext</span><span class="o">();</span>
        <span class="n">ac</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="nc">AppConfig</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">ac</span><span class="o">.</span><span class="na">refresh</span><span class="o">();</span>
  
        <span class="c1">// Create and register the DispatcherServlet</span>
        <span class="nc">DispatcherServlet</span> <span class="n">servlet</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DispatcherServlet</span><span class="o">(</span><span class="n">ac</span><span class="o">);</span>
        <span class="nc">ServletRegistration</span><span class="o">.</span><span class="na">Dynamic</span> <span class="n">registration</span> <span class="o">=</span> <span class="n">servletCxt</span><span class="o">.</span><span class="na">addServlet</span><span class="o">(</span><span class="s">"app"</span><span class="o">,</span> <span class="n">servlet</span><span class="o">);</span>
        <span class="n">registration</span><span class="o">.</span><span class="na">setLoadOnStartup</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="n">registration</span><span class="o">.</span><span class="na">addMapping</span><span class="o">(</span><span class="s">"/app/*"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <p>SpringServletContainerInitializerç±»onStartupæ–¹æ³•å³å®Œæˆåˆå§‹åŒ–</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//æ‰«ææ‰€æœ‰å®ç°WebApplicationInitializeræ¥å£çš„ç±»ï¼Œå°†å…¶å°è£…åˆ°onStartupæ–¹æ³•ä¸­çš„ Set&lt;Class&lt;?&gt;&gt; webAppInitializerClassesä¸­</span>
<span class="nd">@HandlesTypes</span><span class="o">(</span><span class="nc">WebApplicationInitializer</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpringServletContainerInitializer</span> <span class="kd">implements</span> <span class="nc">ServletContainerInitializer</span> <span class="o">{</span>
    	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onStartup</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Class</span><span class="o">&lt;?&gt;&gt;</span> <span class="n">webAppInitializerClasses</span><span class="o">,</span> <span class="nc">ServletContext</span> <span class="n">servletContext</span><span class="o">)</span>
			<span class="kd">throws</span> <span class="nc">ServletException</span> <span class="o">{</span>
		<span class="o">...</span>
		<span class="c1">//è¿™é‡Œéå†initializersï¼ŒåŒ…æ‹¬å¯ä»¥æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„å®ç°WebApplicationInitializerçš„ç±»ï¼Œå¦‚ä¸ŠMyWebApplicationInitializer</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">WebApplicationInitializer</span> <span class="n">initializer</span> <span class="o">:</span> <span class="n">initializers</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">initializer</span><span class="o">.</span><span class="na">onStartup</span><span class="o">(</span><span class="n">servletContext</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
      
</code></pre></div>    </div>
  </li>
  <li>
    <p>xml</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;web-app&gt;</span>
  
    <span class="nt">&lt;listener&gt;</span>
        <span class="nt">&lt;listener-class&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="nt">&lt;/listener-class&gt;</span>
    <span class="nt">&lt;/listener&gt;</span>
  
    <span class="nt">&lt;context-param&gt;</span>
        <span class="nt">&lt;param-name&gt;</span>contextConfigLocation<span class="nt">&lt;/param-name&gt;</span>
        <span class="nt">&lt;param-value&gt;</span>/WEB-INF/app-context.xml<span class="nt">&lt;/param-value&gt;</span>
    <span class="nt">&lt;/context-param&gt;</span>
  
    <span class="nt">&lt;servlet&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>app<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="nt">&lt;/servlet-class&gt;</span>
        <span class="nt">&lt;init-param&gt;</span>
            <span class="nt">&lt;param-name&gt;</span>contextConfigLocation<span class="nt">&lt;/param-name&gt;</span>
            <span class="nt">&lt;param-value&gt;&lt;/param-value&gt;</span>
        <span class="nt">&lt;/init-param&gt;</span>
        <span class="nt">&lt;load-on-startup&gt;</span>1<span class="nt">&lt;/load-on-startup&gt;</span>
    <span class="nt">&lt;/servlet&gt;</span>
  
    <span class="nt">&lt;servlet-mapping&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>app<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>/app/*<span class="nt">&lt;/url-pattern&gt;</span>
    <span class="nt">&lt;/servlet-mapping&gt;</span>
  
<span class="nt">&lt;/web-app&gt;</span>
</code></pre></div>    </div>
  </li>
</ul>

:ET